{"version":3,"sources":["webpack:///main-023ccf0a349dc360e9bd.js","webpack:///./blocks/gem-stats-chart/index.js","webpack:///./blocks/gem/index.js","webpack:///./blocks/help-tooltip/index.js","webpack:///./blocks/link/index.js","webpack:///./blocks/polyfills/index.js","webpack:///./blocks/search/index.js","webpack:///./blocks/toggleable/index.js","webpack:///./blocks/gem-table-chart-stats/index.js","webpack:///./blocks/gem-table-chart/components/gem-table-chart.js","webpack:///./blocks/polyfills/matches.js","webpack:///./blocks/gem-table-chart-stats/gem-table-chart-stats.mustache","webpack:///./blocks/help-tooltip/help-tooltip.mustache","webpack:///./main.js","webpack:///./blocks/utils/index.js","webpack:///./blocks/gem-header/index.js","webpack:///./blocks/gem-table-chart/index.js","webpack:///./postcss/css-vars.js"],"names":["webpackJsonp","124","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","draw","chartNode","chartData","relativeHeight","columnValue","chartHeight","Math","floor","columnMaxValue","columnHeight","MAX_VALUE_HEIGHT_PORTION","chartWidth","clientWidth","clientHeight","columnWidth","ceil","length","TEXT_HEIGHT","getMaxColumnValue","paper","_snapsvgCjs2","text","node","classList","add","attr","textAnchor","alignmentBaseline","opacity","forEach","columnData","i","offset","group","rectBack","rect","pathCommands","values","path","join","style","fill","stroke","type","hover","title","appendChild","columnsData","reduce","prevMax","column","curMax","max","apply","Object","defineProperty","value","_snapsvgCjs","125","gemDescriptionCollapser","$descriptionContainer","_jquery2","$description","find","$togglerButton","class","height","MAX_HEIGHT","addClass","append","on","collapsed","hasClass","toggleClass","_jquery","126","init","currentMode","MODE","YEAR","$statsTables","$currentRow","this","renderRowTooltip","$helpTooltip","setMode","mode","$row","mutualParentOffset","$mutualParent","mutualParentHeight","$helpTooltipContent","html","_helpTooltip2","yearMode","quarterMode","QUARTER","tooltip","data","rowOffset","helpTooltipHeight","getHeight","clone","css","width","$sidebar","relativeRowOffsetTop","top","arrowOffset","$helpTooltipArrow","removeClass","$tooltip","$cloned","display","visibility","position","appendTo","$body","outerHeight","remove","undefined","_helpTooltip","document","body","parents","127","smoothAnchorScrolling","$htmlBody","location","pathname","replace","hostname","$target","hash","scrollOffset","offsetHeight","_gemHeader","isWillBeVisible","CONST_OFFSET","stop","animate","scrollTop","128","129","selector","e","preventDefault","packageName","target","package","trim","window","130","callback","_utils","arrayFromNodes","querySelectorAll","callbackIsCalled","querySelector","addEventListener","toggle","contains","_raf2","_raf","134","renderGemTableChartStats","yearValues","filter","preparedValues","map","line","index","grade","color","_gemTableChart2","LINE_COLORS","innerHTML","_gemTableChartStats2","isMultiple","_gemTableChartStats","_gemTableChart","135","_classCallCheck","instance","Constructor","TypeError","_extends","assign","arguments","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","_rafThrottle","_rafThrottle2","_lodash","_cssVars","_cssVars2","GemTableChart","emitter","_ref","_this","segmentsCount","getValuesAt","memoize","chart","dataIndex","getTitleAt","DATE","Date","getFullYear","MONTH","getMonth","date","id","ID","graphsHeight","VERTICAL_OFFSET","stepWidth","isMultiline","maxValue","_calcMaxChartValue","currentIndex","chartParts","mouseIsOut","_buildChart","oneLineData","pointData","_buildGraphLines","_buildVline","_buildHoverPoints","_setLineVisibility","_setupInteractions","vline","STYLES","VLINE","_this2","hoverPoints","circle","HOVER_POINT","_this3","graphLinesGroup","GRAPH_LINE","DEFAULT","graphLines","lineData","lineIndex","lineGroup","pointIndex","nextPointIndex","nextPoint","x1","y1","_getRelativeHeight","x2","y2","_getSegmentColor","SEGMENT_COLORS","_this4","interactionsOverlay","graphId","_moveLineTo","mouseover","HOVER","emit","mousemove","offsetX","mouseout","point","show","_this5","noValues","xOffset","strokeWidth","transform","Matrix","translate","a","indicatorRateA","b","indicatorRateB","c","indicatorRateC","d","indicatorRateD","indicatorRateE","136","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","ownerDocument","item","317","321","H","T","Template","code","p","t","s","f","rs","v","pop","fl","partials","subs","render","322","326","_gemStatsChart","_link","_search","_search2","_gem","_toggleable","_toggleable2","$","onScroll","isMobileView","each","toggleable","setQuarterMode","stickyHeaderTitle","textContent","tableStatsType","dataset","tablePeriodTitle","setYearMode","table","DOM","closest","renderTableCharts","chartsNodes","statsCellNodes","maxQuarters","JSON","parse","onShow","onOut","61","innerWidth","MOBILE_LAYOUT_WIDTH","nodes","Array","slice","layoutGridColumn","layoutGridGutter","elem","parentElement","88","$fixed","$document","$header","targetOffset","getHeaderOffsetTop","89","setYearValues","statsCell","parsedYearValues","_nanoevents2","tableCharts","push","attachTo","_nanoevents","91","layoutFactor","fontFamily","textColorPrimary","textColorMuted","textLinkColor","layoutPrimaryBg","layoutSecondaryBg","layoutBorderColor","layoutSecondaryBorderColor","themePrimary","indicatorCircleSize"],"mappings":"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","file":"main-023ccf0a349dc360e9bd.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.draw = draw;\n\nvar _snapsvgCjs = __webpack_require__(123);\n\nvar _snapsvgCjs2 = _interopRequireDefault(_snapsvgCjs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TEXT_HEIGHT = 20;\nvar MAX_VALUE_HEIGHT_PORTION = 0.85;\n\nfunction draw(chartNode, chartData) {\n  var chartWidth = chartNode.clientWidth;\n  var chartHeight = chartNode.clientHeight;\n  var columnWidth = Math.ceil(chartWidth / chartData.length);\n  var columnHeight = chartHeight - TEXT_HEIGHT;\n  var columnMaxValue = getMaxColumnValue(chartData);\n\n  var paper = (0, _snapsvgCjs2.default)(chartWidth, chartHeight);\n\n  // TEXT\n  var text = paper.text(chartWidth / 2, TEXT_HEIGHT / 2);\n  text.node.classList.add('gem-stats-chart__column-text');\n  text.attr({\n    textAnchor: 'middle',\n    alignmentBaseline: 'middle',\n    opacity: 0\n  });\n\n  // BARS\n\n  chartData.forEach(function (columnData, i) {\n    var offset = i * columnWidth;\n    var group = paper.group();\n    var rectBack = paper.rect(i * columnWidth, TEXT_HEIGHT, columnWidth, columnHeight);\n    var pathCommands = ['M ' + offset + ' ' + chartHeight, 'L ' + offset + ' ' + relativeHeight(columnData.values[0]), 'L ' + (offset + columnWidth) + ' ' + relativeHeight(columnData.values[1]), 'L ' + (offset + columnWidth) + ' ' + chartHeight, 'L ' + offset + ' ' + chartHeight];\n    var path = paper.path(pathCommands.join(' '));\n\n    group.node.classList.add('gem-stats-chart__column');\n    group.add(rectBack, path);\n    group.attr({ opacity: 0.4 });\n\n    // rect back\n    rectBack.node.classList.add('gem-stats-chart__column-back');\n    rectBack.node.style.fill = 'currentColor';\n    rectBack.attr({ stroke: 'none' });\n\n    // path\n    path.node.classList.add('gem-stats-chart__column-bar');\n    path.node.classList.add('gem-stats-chart__column-bar_' + columnData.type);\n    path.node.style.fill = 'currentColor';\n    path.attr({ stroke: 'none' });\n\n    group.hover(function () {\n      text.attr('text', columnData.title);\n      text.attr('opacity', 1);\n      group.attr('opacity', 1);\n    }, function () {\n      text.attr('opacity', 0);\n      group.attr('opacity', 0.4);\n    });\n  });\n\n  chartNode.appendChild(paper.node);\n\n  function relativeHeight(columnValue) {\n    return chartHeight - Math.floor(columnValue / columnMaxValue * columnHeight * MAX_VALUE_HEIGHT_PORTION);\n  }\n}\n\nfunction getMaxColumnValue(columnsData) {\n  return columnsData.reduce(function (prevMax, column) {\n    var curMax = Math.max.apply(null, column.values);\n\n    if (prevMax < curMax) {\n      return curMax;\n    }\n\n    return prevMax;\n  }, 0);\n}\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.gemDescriptionCollapser = gemDescriptionCollapser;\n\n__webpack_require__(317);\n\nvar _jquery = __webpack_require__(40);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MAX_HEIGHT = 120;\n\nfunction gemDescriptionCollapser() {\n  var $descriptionContainer = (0, _jquery2.default)('.gem__description-container');\n  var $description = $descriptionContainer.find('.gem__description');\n  var $togglerButton = (0, _jquery2.default)('<button/>', { class: 'gem__description-toggler', text: 'See Full' });\n\n  if ($description.height() > MAX_HEIGHT) {\n    $description.addClass('gem__description_has-collapser gem__description_collapsed');\n    $descriptionContainer.append($togglerButton);\n  }\n\n  $togglerButton.on('click', function () {\n    var collapsed = $description.hasClass('gem__description_collapsed');\n\n    $description.toggleClass('gem__description_collapsed', !collapsed);\n    $togglerButton.text(collapsed ? 'Collapse' : 'See full');\n  });\n}\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MODE = undefined;\nexports.init = init;\nexports.setMode = setMode;\n\nvar _jquery = __webpack_require__(40);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _helpTooltip = __webpack_require__(322);\n\nvar _helpTooltip2 = _interopRequireDefault(_helpTooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar $body = (0, _jquery2.default)(document.body);\nvar $statsTables = (0, _jquery2.default)('.gems-stats-table');\nvar $helpTooltip = (0, _jquery2.default)('.help-tooltip');\nvar $helpTooltipContent = $helpTooltip.find('.help-tooltip__content');\nvar $helpTooltipArrow = $helpTooltip.find('.help-tooltip__arrow');\nvar $sidebar = $helpTooltip.parents('.layout__sidebar-section');\nvar $mutualParent = $sidebar.parents('.layout__content-row');\nvar $currentRow = void 0;\nvar currentMode = void 0;\n\nvar MODE = exports.MODE = { YEAR: 'year', QUARTER: 'quarter' };\n\nfunction init() {\n  currentMode = MODE.YEAR;\n\n  $statsTables.on('mouseenter', '.gems-stats-table__row', function onRowMouseOver() {\n    $currentRow = (0, _jquery2.default)(this);\n    renderRowTooltip($currentRow, currentMode);\n  });\n\n  $statsTables.on('mouseleave', '.gems-stats-table__row', function () {\n    $helpTooltip.addClass('help-tooltip_hidden');\n    $currentRow = null;\n  });\n}\n\nfunction setMode(mode) {\n  currentMode = mode;\n\n  if ($currentRow) {\n    renderRowTooltip($currentRow, mode);\n  }\n}\n\nfunction renderRowTooltip($row, mode) {\n  var mutualParentOffset = $mutualParent.offset();\n  var mutualParentHeight = $mutualParent.height();\n\n  $helpTooltipContent.html((0, _helpTooltip2.default)({\n    yearMode: mode === MODE.YEAR,\n    quarterMode: mode === MODE.QUARTER,\n    tooltip: $row.data('tooltip')\n  }));\n\n  var rowOffset = $row.offset();\n  var helpTooltipHeight = getHeight($helpTooltip.clone().css({ width: $sidebar.width() }));\n  var relativeRowOffsetTop = rowOffset.top - mutualParentOffset.top;\n  var arrowOffset = mutualParentHeight - helpTooltipHeight - relativeRowOffsetTop;\n\n  if (arrowOffset > 0) {\n    arrowOffset = 0;\n  } else {\n    relativeRowOffsetTop = mutualParentHeight - helpTooltipHeight;\n    arrowOffset = -arrowOffset;\n  }\n\n  $helpTooltip.css({ top: relativeRowOffsetTop + 'px' });\n  $helpTooltipArrow.css({ top: arrowOffset + 'px' });\n  $helpTooltip.removeClass('help-tooltip_hidden');\n}\n\nfunction getHeight($tooltip) {\n  var $cloned = $tooltip.css({\n    display: 'block',\n    visibility: 'hidden',\n    position: 'absolute',\n    top: 0\n  }).appendTo($body);\n\n  var height = $cloned.outerHeight();\n  $cloned.remove();\n  return height;\n}\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.smoothAnchorScrolling = smoothAnchorScrolling;\n\nvar _jquery = __webpack_require__(40);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _gemHeader = __webpack_require__(88);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CONST_OFFSET = 15;\n\nfunction smoothAnchorScrolling() {\n  var $htmlBody = (0, _jquery2.default)('html, body');\n\n  (0, _jquery2.default)('a[href*=\"#\"]:not([href=\"#\"])').on('click', function onClick() {\n    if (location.pathname.replace(/^\\//, '') === this.pathname.replace(/^\\//, '') && location.hostname === this.hostname) {\n      var $target = (0, _jquery2.default)(this.hash);\n      var scrollOffset = $target.offset().top;\n      var offsetHeight = (0, _gemHeader.isWillBeVisible)(scrollOffset) ? (0, _gemHeader.getHeight)() + CONST_OFFSET : 0;\n\n      if ($target.length) {\n        $htmlBody.stop().animate({ scrollTop: scrollOffset - offsetHeight }, 500);\n      }\n    }\n  });\n}\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(136);\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _jquery = __webpack_require__(40);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (selector) {\n  (0, _jquery2.default)(selector).on('submit', function (e) {\n    e.preventDefault();\n\n    var packageName = e.target.package.value.trim();\n\n    if (packageName) {\n      window.location = '/search/' + packageName;\n    }\n  });\n};\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = init;\n\nvar _utils = __webpack_require__(61);\n\nvar _raf = __webpack_require__(122);\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction init(callback) {\n  (0, _utils.arrayFromNodes)(document.querySelectorAll('[data-toggleable]')).forEach(function (node) {\n    var callbackIsCalled = false;\n\n    node.querySelector('[data-toggleable-toggler]').addEventListener('click', function () {\n      node.classList.toggle('toggleable_closed');\n\n      if (!node.classList.contains('toggleable_closed') && !callbackIsCalled) {\n        callbackIsCalled = true;\n        (0, _raf2.default)(function () {\n          return callback(node);\n        });\n      }\n    });\n\n    if (!node.classList.contains('toggleable_closed')) {\n      callback(node);\n    }\n  });\n}\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderGemTableChartStats = renderGemTableChartStats;\n\nvar _gemTableChartStats = __webpack_require__(321);\n\nvar _gemTableChartStats2 = _interopRequireDefault(_gemTableChartStats);\n\nvar _gemTableChart = __webpack_require__(89);\n\nvar _gemTableChart2 = _interopRequireDefault(_gemTableChart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction renderGemTableChartStats(node, yearValues, values) {\n  values = values && values.filter(function (value) {\n    return value;\n  }).length ? values : yearValues;\n\n  var preparedValues = values.map(function (line, index) {\n    return {\n      title: line && line.title,\n      grade: line && line.grade,\n      color: _gemTableChart2.default.LINE_COLORS[index]\n    };\n  });\n\n  node.innerHTML = (0, _gemTableChartStats2.default)({\n    values: preparedValues,\n    isMultiple: values.length > 1\n  });\n}\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _snapsvgCjs = __webpack_require__(123);\n\nvar _snapsvgCjs2 = _interopRequireDefault(_snapsvgCjs);\n\nvar _rafThrottle = __webpack_require__(90);\n\nvar _rafThrottle2 = _interopRequireDefault(_rafThrottle);\n\nvar _lodash = __webpack_require__(320);\n\nvar _cssVars = __webpack_require__(91);\n\nvar _cssVars2 = _interopRequireDefault(_cssVars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GemTableChart = function () {\n  function GemTableChart(emitter, _ref) {\n    var _this = this;\n\n    var width = _ref.width,\n        height = _ref.height,\n        segmentsCount = _ref.segmentsCount,\n        data = _ref.data;\n\n    _classCallCheck(this, GemTableChart);\n\n    this.getValuesAt = (0, _lodash.memoize)(function (index) {\n      return _this.data.map(function (chart, dataIndex) {\n        if (!chart[index]) {\n          return null;\n        }\n\n        return _extends({}, chart[index], { color: GemTableChart.LINE_COLORS[dataIndex] });\n      });\n    });\n\n    this.getTitleAt = function () {\n      var DATE = new Date();\n      var YEAR = DATE.getFullYear();\n      var MONTH = DATE.getMonth();\n\n      return (0, _lodash.memoize)(function (index) {\n        if (index >= _this.segmentsCount) {\n          return null;\n        }\n\n        var date = new Date(YEAR, MONTH - (index + 1) * 3);\n        return 'Q' + Math.ceil((date.getMonth() + 1) / 3) + ', ' + date.getFullYear();\n      });\n    }();\n\n    this.emitter = emitter;\n    this.id = ++GemTableChart.ID;\n\n    this.width = width;\n    this.height = height;\n    this.graphsHeight = height - GemTableChart.VERTICAL_OFFSET * 2;\n    this.segmentsCount = segmentsCount;\n    this.stepWidth = Math.floor(width / (segmentsCount + 1));\n    this.data = data;\n    this.isMultiline = this.data.length > 1;\n    this.maxValue = this._calcMaxChartValue();\n    this.paper = (0, _snapsvgCjs2.default)(width, height);\n    this.currentIndex = -1;\n    this.chartParts = {};\n    this.mouseIsOut = true;\n\n    this._buildChart();\n  }\n\n  _createClass(GemTableChart, [{\n    key: 'attachTo',\n    value: function attachTo(node) {\n      node.appendChild(this.paper.node);\n      return this;\n    }\n  }, {\n    key: '_calcMaxChartValue',\n    value: function _calcMaxChartValue() {\n      return this.data.reduce(function (prevMax, oneLineData) {\n        var curMax = Math.max.apply(null, oneLineData.map(function (pointData) {\n          return pointData.value;\n        }));\n\n        if (prevMax < curMax) {\n          return curMax;\n        }\n\n        return prevMax;\n      }, 0);\n    }\n  }, {\n    key: '_buildChart',\n    value: function _buildChart() {\n      this._buildGraphLines();\n      this._buildVline();\n      this._buildHoverPoints();\n      this._setLineVisibility(false);\n      this._setupInteractions();\n    }\n  }, {\n    key: '_buildVline',\n    value: function _buildVline() {\n      this.chartParts.vline = this.paper.path('M 0 0, L 0 ' + this.height).attr(GemTableChart.STYLES.VLINE);\n    }\n  }, {\n    key: '_buildHoverPoints',\n    value: function _buildHoverPoints() {\n      var _this2 = this;\n\n      this.chartParts.hoverPoints = this.data.map(function () {\n        return _this2.paper.circle(0, 0, 3).attr(GemTableChart.STYLES.HOVER_POINT);\n      });\n    }\n  }, {\n    key: '_buildGraphLines',\n    value: function _buildGraphLines() {\n      var _this3 = this;\n\n      this.chartParts.graphLinesGroup = this.paper.group().attr(GemTableChart.STYLES.GRAPH_LINE.DEFAULT);\n\n      this.chartParts.graphLines = this.data.map(function (lineData, lineIndex) {\n        var lineGroup = _this3.paper.group();\n\n        _this3.chartParts.graphLinesGroup.add(lineGroup);\n\n        lineData.forEach(function (pointData, pointIndex) {\n          var nextPointIndex = pointIndex + 1;\n          var nextPoint = lineData[nextPointIndex];\n\n          if (nextPoint) {\n            var x1 = _this3.width - pointIndex * _this3.stepWidth - _this3.stepWidth / 2;\n            var y1 = _this3._getRelativeHeight(pointData.value);\n            var x2 = _this3.width - nextPointIndex * _this3.stepWidth - _this3.stepWidth / 2;\n            var y2 = _this3._getRelativeHeight(nextPoint.value);\n            var line = _this3.paper.line(x1, y1, x2, y2).attr({ stroke: _this3._getSegmentColor(lineIndex, pointData.grade) });\n\n            lineGroup.add(line);\n          }\n        });\n\n        return lineGroup;\n      });\n    }\n  }, {\n    key: '_getSegmentColor',\n    value: function _getSegmentColor(i, grade) {\n      return this.isMultiline ? GemTableChart.LINE_COLORS[i] : GemTableChart.SEGMENT_COLORS[grade];\n    }\n  }, {\n    key: '_setupInteractions',\n    value: function _setupInteractions() {\n      var _this4 = this;\n\n      var interactionsOverlay = this.paper.rect(0, 0, this.width, this.height).attr({ fill: 'transparent', stroke: 'none' });\n\n      this.emitter.on('over', function () {\n        return _this4.mouseIsOut = false;\n      });\n      this.emitter.on('show', (0, _rafThrottle2.default)(function (graphId, index) {\n        if (!_this4.mouseIsOut) {\n          _this4._moveLineTo(index);\n        }\n      }));\n      this.emitter.on('out', function () {\n        _this4.mouseIsOut = true;\n        _this4._setLineVisibility(false);\n      });\n\n      interactionsOverlay.mouseover(function () {\n        _this4.chartParts.graphLinesGroup.attr(GemTableChart.STYLES.GRAPH_LINE.HOVER);\n        _this4.emitter.emit('over');\n      }).mousemove(function (e) {\n        var index = Math.floor((_this4.width - e.offsetX) / _this4.stepWidth);\n        _this4.emitter.emit('show', _this4.id, index);\n      }).mouseout(function () {\n        _this4.chartParts.graphLinesGroup.attr(GemTableChart.STYLES.GRAPH_LINE.DEFAULT);\n        _this4.emitter.emit('out', _this4.id);\n      });\n    }\n  }, {\n    key: '_getRelativeHeight',\n    value: function _getRelativeHeight(value) {\n      var offset = this.maxValue <= 0 ? 0 : Math.floor(value / this.maxValue * this.graphsHeight);\n\n      return this.graphsHeight - offset + GemTableChart.VERTICAL_OFFSET;\n    }\n  }, {\n    key: '_setLineVisibility',\n    value: function _setLineVisibility(value, values) {\n      this.chartParts.vline.attr({ opacity: value ? GemTableChart.STYLES.VLINE.opacity : 0 });\n      this.chartParts.hoverPoints.forEach(function (point, index) {\n        var show = values ? values[index] : value;\n        point.attr({ opacity: show ? 1 : 0 });\n      });\n    }\n  }, {\n    key: '_moveLineTo',\n    value: function _moveLineTo(index) {\n      var _this5 = this;\n\n      this.currentIndex = index;\n      var values = this.getValuesAt(index);\n      var noValues = !values.filter(function (value) {\n        return value;\n      }).length;\n\n      this._setLineVisibility(!noValues, values);\n\n      if (noValues && this.currentIndex === index) {\n        return;\n      }\n\n      var xOffset = this.width - index * this.stepWidth - (this.stepWidth % 2 ? 0 : GemTableChart.STYLES.VLINE.strokeWidth / 2) - this.stepWidth / 2;\n\n      this.chartParts.vline.transform(new _snapsvgCjs2.default.Matrix().translate(xOffset, 0));\n      values.forEach(function (pointData, i) {\n        if (!pointData) {\n          return;\n        }\n\n        _this5.chartParts.hoverPoints[i].attr({ fill: _this5._getSegmentColor(i, pointData.grade) }).transform(new _snapsvgCjs2.default.Matrix().translate(xOffset, _this5._getRelativeHeight(pointData.value)));\n      });\n    }\n  }]);\n\n  return GemTableChart;\n}();\n\nGemTableChart.ID = 0;\nGemTableChart.LINE_COLORS = ['#d0011b', '#4990e2'];\nGemTableChart.SEGMENT_COLORS = {\n  a: _cssVars2.default.indicatorRateA,\n  b: _cssVars2.default.indicatorRateB,\n  c: _cssVars2.default.indicatorRateC,\n  d: _cssVars2.default.indicatorRateD,\n  e: _cssVars2.default.indicatorRateE\n};\nGemTableChart.VERTICAL_OFFSET = 10;\nGemTableChart.STYLES = {\n  VLINE: {\n    strokeWidth: 1,\n    stroke: '#000000',\n    opacity: 0.15\n  },\n  HOVER_POINT: {\n    strokeWidth: 1.5,\n    stroke: '#ffffff'\n  },\n  GRAPH_LINE: {\n    DEFAULT: {\n      strokeWidth: 0.5\n    },\n    HOVER: {\n      strokeWidth: 1\n    }\n  }\n};\nexports.default = GemTableChart;\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function matchesFn(selector) {\n    var matches = (this.document || this.ownerDocument).querySelectorAll(selector);\n    var length = matches.length;\n\n    while (--length >= 0 && matches.item(length) !== this) {} // eslint-disable-line no-empty\n\n    return length > -1;\n  };\n}\n\n/***/ }),\n\n/***/ 317:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 321:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar H = __webpack_require__(120);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<ul class=\\\"gem-table-chart-stats\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"values\",c,p,1),c,p,0,50,380,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"         <li class=\\\"gem-table-chart-stats__item\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"isMultiple\",c,p,1),c,p,0,127,244,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"             <span class=\\\"gem-table-chart-stats__color-dot\\\" style=\\\"background-color: \");t.b(t.v(t.f(\"color\",c,p,0)));t.b(\";\\\"></span>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"           <span class=\\\"gem-table-chart-stats__value mark-text mark-text_\");t.b(t.v(t.f(\"grade\",c,p,0)));t.b(\"\\\">\");t.b(t.v(t.f(\"title\",c,p,0)));t.b(\"</span>\");t.b(\"\\n\" + i);t.b(\"         </li>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"</ul>\");return t.fl(); },partials: {}, subs: {  }}, \"<ul class=\\\"gem-table-chart-stats\\\">\\n    {{#values}}\\n         <li class=\\\"gem-table-chart-stats__item\\\">\\n           {{#isMultiple}}\\n             <span class=\\\"gem-table-chart-stats__color-dot\\\" style=\\\"background-color: {{color}};\\\"></span>\\n           {{/isMultiple}}\\n           <span class=\\\"gem-table-chart-stats__value mark-text mark-text_{{grade}}\\\">{{title}}</span>\\n         </li>\\n    {{/values}}\\n</ul>\", H);return T.render.apply(T, arguments); };\n\n/***/ }),\n\n/***/ 322:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar H = __webpack_require__(120);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"help-tooltip__header-container\\\">\");t.b(\"\\n\" + i);t.b(\"    <h4 class=\\\"help-tooltip__header\\\">\");t.b(t.v(t.d(\"tooltip.title\",c,p,0)));t.b(\"</h4>\");t.b(\"\\n\" + i);t.b(\"    <svg class=\\\"icon help-tooltip__info-icon\\\">\");t.b(\"\\n\" + i);t.b(\"        <use xlink:href=\\\"#icon_type_info\\\"></use>\");t.b(\"\\n\" + i);t.b(\"    </svg>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\" + i);t.b(\"<p class=\\\"help-tooltip__description\\\">\");t.b(t.v(t.d(\"tooltip.description\",c,p,0)));t.b(\"</p>\");t.b(\"\\n\" + i);t.b(\"<table class=\\\"help-tooltip__table\\\">\");t.b(\"\\n\" + i);t.b(\"    <thead>\");t.b(\"\\n\" + i);t.b(\"        <tr>\");t.b(\"\\n\" + i);t.b(\"            <th class=\\\"help-tooltip__table-header-cell\\\">Rank</th>\");t.b(\"\\n\" + i);t.b(\"            <th class=\\\"help-tooltip__table-header-cell help-tooltip__table-header-cell_values-column help-tooltip__table-header-cell_values-column-penultimate\\\">\");t.b(\"\\n\" + i);t.b(\"                \");if(t.s(t.f(\"yearMode\",c,p,1),c,p,0,601,605,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"Year\");});c.pop();}t.b(\"\\n\" + i);t.b(\"                \");if(t.s(t.f(\"quarterMode\",c,p,1),c,p,0,651,658,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"Quarter\");});c.pop();}t.b(\"\\n\" + i);t.b(\"            </th>\");t.b(\"\\n\" + i);t.b(\"            <th class=\\\"help-tooltip__table-header-cell help-tooltip__table-header-cell_values-column\\\">Total</th>\");t.b(\"\\n\" + i);t.b(\"        </tr>\");t.b(\"\\n\" + i);t.b(\"    </thead>\");t.b(\"\\n\" + i);t.b(\"    <tbody>\");t.b(\"\\n\" + i);if(t.s(t.d(\"tooltip.ranks\",c,p,1),c,p,0,867,1592,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"        <tr>\");t.b(\"\\n\" + i);t.b(\"            <td class=\\\"help-tooltip__table-cell\\\">\");t.b(\"\\n\" + i);t.b(\"                <svg class=\\\"icon icon_type_mark-\");t.b(t.v(t.f(\"type\",c,p,0)));t.b(\" help-tooltip__table-mark\\\">\");t.b(\"\\n\" + i);t.b(\"                    <use xlink:href=\\\"#icon_type_mark-\");t.b(t.v(t.f(\"type\",c,p,0)));t.b(\"\\\"></use>\");t.b(\"\\n\" + i);t.b(\"                </svg>\");t.b(\"\\n\" + i);t.b(\"            </td>\");t.b(\"\\n\" + i);t.b(\"            <td class=\\\"help-tooltip__table-cell help-tooltip__table-cell_values-column help-tooltip__table-cell_values-column-penultimate\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"yearMode\",c,p,1),c,p,0,1295,1341,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"                    \");t.b(t.v(t.f(\"year\",c,p,0)));t.b(\"\\n\" + i);});c.pop();}if(t.s(t.f(\"quarterMode\",c,p,1),c,p,0,1387,1436,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"                    \");t.b(t.v(t.f(\"quarter\",c,p,0)));t.b(\"\\n\" + i);});c.pop();}t.b(\"            </td>\");t.b(\"\\n\" + i);t.b(\"            <td class=\\\"help-tooltip__table-cell help-tooltip__table-cell_values-column\\\">\");t.b(t.v(t.f(\"total\",c,p,0)));t.b(\"</td>\");t.b(\"\\n\" + i);t.b(\"        </tr>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"    </tbody>\");t.b(\"\\n\" + i);t.b(\"</table>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"help-tooltip__header-container\\\">\\n    <h4 class=\\\"help-tooltip__header\\\">{{tooltip.title}}</h4>\\n    <svg class=\\\"icon help-tooltip__info-icon\\\">\\n        <use xlink:href=\\\"#icon_type_info\\\"></use>\\n    </svg>\\n</div>\\n<p class=\\\"help-tooltip__description\\\">{{tooltip.description}}</p>\\n<table class=\\\"help-tooltip__table\\\">\\n    <thead>\\n        <tr>\\n            <th class=\\\"help-tooltip__table-header-cell\\\">Rank</th>\\n            <th class=\\\"help-tooltip__table-header-cell help-tooltip__table-header-cell_values-column help-tooltip__table-header-cell_values-column-penultimate\\\">\\n                {{#yearMode}}Year{{/yearMode}}\\n                {{#quarterMode}}Quarter{{/quarterMode}}\\n            </th>\\n            <th class=\\\"help-tooltip__table-header-cell help-tooltip__table-header-cell_values-column\\\">Total</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n    {{#tooltip.ranks}}\\n        <tr>\\n            <td class=\\\"help-tooltip__table-cell\\\">\\n                <svg class=\\\"icon icon_type_mark-{{type}} help-tooltip__table-mark\\\">\\n                    <use xlink:href=\\\"#icon_type_mark-{{type}}\\\"></use>\\n                </svg>\\n            </td>\\n            <td class=\\\"help-tooltip__table-cell help-tooltip__table-cell_values-column help-tooltip__table-cell_values-column-penultimate\\\">\\n                {{#yearMode}}\\n                    {{year}}\\n                {{/yearMode}}\\n                {{#quarterMode}}\\n                    {{quarter}}\\n                {{/quarterMode}}\\n            </td>\\n            <td class=\\\"help-tooltip__table-cell help-tooltip__table-cell_values-column\\\">{{total}}</td>\\n        </tr>\\n    {{/tooltip.ranks}}\\n    </tbody>\\n</table>\\n\", H);return T.render.apply(T, arguments); };\n\n/***/ }),\n\n/***/ 326:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(128);\n\nvar _jquery = __webpack_require__(40);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _rafThrottle = __webpack_require__(90);\n\nvar _rafThrottle2 = _interopRequireDefault(_rafThrottle);\n\nvar _gemHeader = __webpack_require__(88);\n\nvar _helpTooltip = __webpack_require__(126);\n\nvar _gemStatsChart = __webpack_require__(124);\n\nvar _gemTableChart = __webpack_require__(89);\n\nvar _link = __webpack_require__(127);\n\nvar _utils = __webpack_require__(61);\n\nvar _search = __webpack_require__(129);\n\nvar _search2 = _interopRequireDefault(_search);\n\nvar _gem = __webpack_require__(125);\n\nvar _toggleable = __webpack_require__(130);\n\nvar _toggleable2 = _interopRequireDefault(_toggleable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (true) {\n  window.$ = _jquery2.default;\n}\n\n(0, _jquery2.default)(function () {\n  if ((0, _jquery2.default)('#sticky-project-header').length) {\n    (0, _jquery2.default)(window).on('scroll', (0, _rafThrottle2.default)(_gemHeader.onScroll));\n    (0, _gemHeader.onScroll)();\n  }\n\n  (0, _link.smoothAnchorScrolling)();\n\n  if (!(0, _utils.isMobileView)() && (0, _jquery2.default)('.help-tooltip').length) {\n    (0, _helpTooltip.init)();\n  }\n\n  (0, _search2.default)('.search');\n  (0, _gem.gemDescriptionCollapser)();\n  (0, _jquery2.default)('.gem-stats-chart').each(function onEachChart() {\n    (0, _gemStatsChart.draw)(this, (0, _jquery2.default)(this).data('chart'));\n  });\n\n  (0, _toggleable2.default)(function (toggleable) {\n    var stickyHeaderTitle = document.querySelector('#sticky-header-title');\n    var table = toggleable.querySelector('.js-gems-stats-table');\n    var tablePeriodTitle = table.querySelector('.js-gems-stats-table__period-title');\n    var tableStatsType = _utils.DOM.closest(table, '.gem-stats');\n\n    (0, _gemTableChart.renderTableCharts)({\n      chartsNodes: table.querySelectorAll('.js-gems-stats-table__row-chart'),\n      statsCellNodes: table.querySelectorAll('.js-gems-stats-table__cell-stats'),\n      maxQuarters: JSON.parse(table.dataset.maxQuarters),\n      onShow: function onShow(value) {\n        return value ? setQuarterMode(value) : setYearMode();\n      },\n      onOut: setYearMode\n    });\n\n    function setQuarterMode(value) {\n      (0, _helpTooltip.setMode)(_helpTooltip.MODE.QUARTER);\n      stickyHeaderTitle.textContent = '' + tableStatsType.dataset.title + (value ? ' - ' + value : '');\n      tablePeriodTitle.textContent = value;\n    }\n\n    function setYearMode() {\n      (0, _helpTooltip.setMode)(_helpTooltip.MODE.YEAR);\n      stickyHeaderTitle.textContent = '';\n      tablePeriodTitle.textContent = 'This year';\n    }\n  });\n});\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DOM = undefined;\nexports.isMobileView = isMobileView;\nexports.arrayFromNodes = arrayFromNodes;\n\nvar _cssVars = __webpack_require__(91);\n\nvar _cssVars2 = _interopRequireDefault(_cssVars);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar MOBILE_LAYOUT_WIDTH = (_cssVars2.default.layoutGridColumn + _cssVars2.default.layoutGridGutter) * 9; // 6 + 3\n\nfunction isMobileView() {\n  return window.innerWidth < MOBILE_LAYOUT_WIDTH;\n}\n\nfunction arrayFromNodes(nodes) {\n  return Array.prototype.slice.call(nodes);\n}\n\nvar DOM = exports.DOM = {\n  closest: function closest(elem, selector) {\n    while (elem) {\n      if (elem.matches(selector)) {\n        return elem;\n      }\n\n      elem = elem.parentElement;\n    }\n\n    return null;\n  }\n};\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.onScroll = onScroll;\nexports.getHeight = getHeight;\nexports.isWillBeVisible = isWillBeVisible;\n\nvar _jquery = __webpack_require__(40);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar $header = (0, _jquery2.default)('#sticky-project-header');\nvar $fixed = $header.find('.gem-header__fixed');\n\nvar $document = (0, _jquery2.default)(document);\n\nfunction onScroll() {\n  $fixed.toggleClass('gem-header__fixed_hidden', !isWillBeVisible($document.scrollTop() - $header.height() - 15));\n}\n\nfunction getHeight() {\n  return $fixed.height();\n}\n\nfunction isWillBeVisible(targetOffset) {\n  return getHeaderOffsetTop() < targetOffset;\n}\n\nfunction getHeaderOffsetTop() {\n  return $header.offset().top;\n}\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderTableCharts = renderTableCharts;\n\nvar _gemTableChart = __webpack_require__(135);\n\nvar _gemTableChart2 = _interopRequireDefault(_gemTableChart);\n\nvar _nanoevents = __webpack_require__(323);\n\nvar _nanoevents2 = _interopRequireDefault(_nanoevents);\n\nvar _gemTableChartStats = __webpack_require__(134);\n\nvar _utils = __webpack_require__(61);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _gemTableChart2.default;\nfunction renderTableCharts(_ref) {\n  var chartsNodes = _ref.chartsNodes,\n      statsCellNodes = _ref.statsCellNodes,\n      maxQuarters = _ref.maxQuarters,\n      onShow = _ref.onShow,\n      onOut = _ref.onOut;\n\n  chartsNodes = (0, _utils.arrayFromNodes)(chartsNodes);\n  statsCellNodes = (0, _utils.arrayFromNodes)(statsCellNodes);\n\n  var emitter = new _nanoevents2.default();\n  var tableCharts = [];\n  var parsedYearValues = chartsNodes.map(function (chart) {\n    return JSON.parse(chart.dataset.yearValues);\n  });\n\n  chartsNodes.forEach(function (chartNode) {\n    var chart = new _gemTableChart2.default(emitter, {\n      width: chartNode.clientWidth,\n      height: chartNode.clientHeight,\n      data: JSON.parse(chartNode.dataset.chart),\n      segmentsCount: maxQuarters\n    });\n    tableCharts.push(chart.attachTo(chartNode));\n  });\n\n  setYearValues();\n\n  emitter.on('show', function (graphId, index) {\n    onShow(tableCharts[0].getTitleAt(index));\n    tableCharts.forEach(function (chart, i) {\n      return (0, _gemTableChartStats.renderGemTableChartStats)(statsCellNodes[i], parsedYearValues[i], chart.getValuesAt(index));\n    });\n  });\n  emitter.on('out', function () {\n    setYearValues();\n    onOut();\n  });\n\n  function setYearValues() {\n    statsCellNodes.forEach(function (statsCell, i) {\n      return (0, _gemTableChartStats.renderGemTableChartStats)(statsCell, parsedYearValues[i]);\n    });\n  }\n}\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  layoutGridColumn: 88,\n  layoutGridGutter: 12,\n  layoutFactor: 12,\n\n  // TEXT\n  fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, ' + '\"Helvetica Neue\", sans-serif',\n\n  textColorPrimary: '#333',\n  textColorMuted: '#7b858e',\n  textLinkColor: '#4a90e2',\n\n  // COLORS\n  layoutPrimaryBg: '#fff',\n  layoutSecondaryBg: '#efefef',\n\n  layoutBorderColor: '#d1d1d1',\n  layoutSecondaryBorderColor: '#efefef',\n\n  themePrimary: '#2c3e50',\n\n  indicatorCircleSize: '36px',\n  indicatorRateA: '#0ac53d',\n  indicatorRateB: '#a9bf38',\n  indicatorRateC: '#ecc217',\n  indicatorRateD: '#e09432',\n  indicatorRateE: '#de2020'\n};\n\n/***/ })\n\n},[326]);\n\n\n// WEBPACK FOOTER //\n// main-023ccf0a349dc360e9bd.js","import Snap from 'snapsvg-cjs';\n\nconst TEXT_HEIGHT = 20;\nconst MAX_VALUE_HEIGHT_PORTION = 0.85;\n\nexport function draw(chartNode, chartData) {\n  const chartWidth = chartNode.clientWidth;\n  const chartHeight = chartNode.clientHeight;\n  const columnWidth = Math.ceil(chartWidth / chartData.length);\n  const columnHeight = chartHeight - TEXT_HEIGHT;\n  const columnMaxValue = getMaxColumnValue(chartData);\n\n  const paper = Snap(chartWidth, chartHeight);\n\n  // TEXT\n  const text = paper.text(chartWidth / 2, (TEXT_HEIGHT / 2));\n  text.node.classList.add('gem-stats-chart__column-text');\n  text.attr({\n    textAnchor: 'middle',\n    alignmentBaseline: 'middle',\n    opacity: 0\n  });\n\n  // BARS\n\n  chartData.forEach((columnData, i) => {\n    const offset = i * columnWidth;\n    const group = paper.group();\n    const rectBack = paper.rect(i * columnWidth, TEXT_HEIGHT, columnWidth, columnHeight);\n    const pathCommands = [\n      `M ${offset} ${chartHeight}`,\n      `L ${offset} ${relativeHeight(columnData.values[0])}`,\n      `L ${offset + columnWidth} ${relativeHeight(columnData.values[1])}`,\n      `L ${offset + columnWidth} ${chartHeight}`,\n      `L ${offset} ${chartHeight}`\n    ];\n    const path = paper.path(pathCommands.join(' '));\n\n    group.node.classList.add('gem-stats-chart__column');\n    group.add(rectBack, path);\n    group.attr({ opacity: 0.4 });\n\n    // rect back\n    rectBack.node.classList.add('gem-stats-chart__column-back');\n    rectBack.node.style.fill = 'currentColor';\n    rectBack.attr({ stroke: 'none' });\n\n    // path\n    path.node.classList.add('gem-stats-chart__column-bar');\n    path.node.classList.add(`gem-stats-chart__column-bar_${columnData.type}`);\n    path.node.style.fill = 'currentColor';\n    path.attr({ stroke: 'none' });\n\n    group.hover(\n      () => {\n        text.attr('text', columnData.title);\n        text.attr('opacity', 1);\n        group.attr('opacity', 1);\n      },\n      () => {\n        text.attr('opacity', 0);\n        group.attr('opacity', 0.4);\n      }\n    );\n  });\n\n  chartNode.appendChild(paper.node);\n\n  function relativeHeight(columnValue) {\n    return chartHeight - Math.floor((columnValue / columnMaxValue) * columnHeight * MAX_VALUE_HEIGHT_PORTION);\n  }\n}\n\nfunction getMaxColumnValue(columnsData) {\n  return columnsData.reduce((prevMax, column) => {\n    const curMax = Math.max.apply(null, column.values);\n\n    if (prevMax < curMax) {\n      return curMax;\n    }\n\n    return prevMax;\n  }, 0);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/gem-stats-chart/index.js","import './gem.pcss';\nimport $ from 'jquery';\n\nconst MAX_HEIGHT = 120;\n\nexport function gemDescriptionCollapser() {\n  const $descriptionContainer = $('.gem__description-container');\n  const $description = $descriptionContainer.find('.gem__description');\n  const $togglerButton = $('<button/>', { class: 'gem__description-toggler', text: 'See Full' });\n\n\n  if ($description.height() > MAX_HEIGHT) {\n    $description.addClass('gem__description_has-collapser gem__description_collapsed');\n    $descriptionContainer.append($togglerButton);\n  }\n\n  $togglerButton.on('click', () => {\n    const collapsed = $description.hasClass('gem__description_collapsed');\n\n    $description.toggleClass('gem__description_collapsed', !collapsed);\n    $togglerButton.text(collapsed ? 'Collapse' : 'See full');\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/gem/index.js","import $ from 'jquery';\nimport tooltipTpl from './help-tooltip.mustache';\n\nconst $body = $(document.body);\nconst $statsTables = $('.gems-stats-table');\nconst $helpTooltip = $('.help-tooltip');\nconst $helpTooltipContent = $helpTooltip.find('.help-tooltip__content');\nconst $helpTooltipArrow = $helpTooltip.find('.help-tooltip__arrow');\nconst $sidebar = $helpTooltip.parents('.layout__sidebar-section');\nconst $mutualParent = $sidebar.parents('.layout__content-row');\nlet $currentRow;\nlet currentMode;\n\nexport const MODE = { YEAR: 'year', QUARTER: 'quarter' };\n\nexport function init() {\n  currentMode = MODE.YEAR;\n\n  $statsTables.on('mouseenter', '.gems-stats-table__row', function onRowMouseOver() {\n    $currentRow = $(this);\n    renderRowTooltip($currentRow, currentMode);\n  });\n\n  $statsTables.on('mouseleave', '.gems-stats-table__row', () => {\n    $helpTooltip.addClass('help-tooltip_hidden');\n    $currentRow = null;\n  });\n}\n\nexport function setMode(mode) {\n  currentMode = mode;\n\n  if ($currentRow) {\n    renderRowTooltip($currentRow, mode);\n  }\n}\n\nfunction renderRowTooltip($row, mode) {\n  const mutualParentOffset = $mutualParent.offset();\n  const mutualParentHeight = $mutualParent.height();\n\n  $helpTooltipContent.html(tooltipTpl({\n    yearMode: mode === MODE.YEAR,\n    quarterMode: mode === MODE.QUARTER,\n    tooltip: $row.data('tooltip')\n  }));\n\n  const rowOffset = $row.offset();\n  const helpTooltipHeight = getHeight($helpTooltip.clone().css({ width: $sidebar.width() }));\n  let relativeRowOffsetTop = rowOffset.top - mutualParentOffset.top;\n  let arrowOffset = mutualParentHeight - helpTooltipHeight - relativeRowOffsetTop;\n\n  if (arrowOffset > 0) {\n    arrowOffset = 0;\n  } else {\n    relativeRowOffsetTop = mutualParentHeight - helpTooltipHeight;\n    arrowOffset = -arrowOffset;\n  }\n\n  $helpTooltip.css({ top: `${relativeRowOffsetTop}px` });\n  $helpTooltipArrow.css({ top: `${arrowOffset}px` });\n  $helpTooltip.removeClass('help-tooltip_hidden');\n}\n\nfunction getHeight($tooltip) {\n  const $cloned = $tooltip\n    .css({\n      display: 'block',\n      visibility: 'hidden',\n      position: 'absolute',\n      top: 0\n    })\n    .appendTo($body);\n\n  const height = $cloned.outerHeight();\n  $cloned.remove();\n  return height;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/help-tooltip/index.js","import $ from 'jquery';\nimport { isWillBeVisible as headerWillBeVisible, getHeight as getHeaderHeight } from '../gem-header';\n\nconst CONST_OFFSET = 15;\n\nexport function smoothAnchorScrolling() {\n  const $htmlBody = $('html, body');\n\n  $('a[href*=\"#\"]:not([href=\"#\"])').on('click', function onClick() {\n    if (\n      location.pathname.replace(/^\\//, '') === this.pathname.replace(/^\\//, '')\n      && location.hostname === this.hostname\n    ) {\n      const $target = $(this.hash);\n      const scrollOffset = $target.offset().top;\n      const offsetHeight = headerWillBeVisible(scrollOffset) ? getHeaderHeight() + CONST_OFFSET : 0;\n\n      if ($target.length) {\n        $htmlBody.stop().animate({ scrollTop: scrollOffset - offsetHeight }, 500);\n      }\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/link/index.js","import './matches';\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/polyfills/index.js","import $ from 'jquery';\n\nexport default (selector) => {\n  $(selector).on('submit', e => {\n    e.preventDefault();\n\n    const packageName = e.target.package.value.trim();\n\n    if (packageName) {\n      window.location = `/search/${packageName}`;\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/search/index.js","import { arrayFromNodes } from '../utils';\nimport RAF from 'raf';\n\nexport default function init(callback) {\n  arrayFromNodes(document.querySelectorAll('[data-toggleable]')).forEach(node => {\n    let callbackIsCalled = false;\n\n    node.querySelector('[data-toggleable-toggler]').addEventListener('click', () => {\n      node.classList.toggle('toggleable_closed');\n\n      if (!node.classList.contains('toggleable_closed') && !callbackIsCalled) {\n        callbackIsCalled = true;\n        RAF(() => callback(node));\n      }\n    });\n\n    if (!node.classList.contains('toggleable_closed')) {\n      callback(node);\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/toggleable/index.js","import template from './gem-table-chart-stats.mustache';\nimport GemTableChart from '../gem-table-chart';\n\nexport function renderGemTableChartStats(node, yearValues, values) {\n  values = values && values.filter(value => value).length ? values : yearValues;\n\n  const preparedValues = values.map((line, index) => ({\n    title: line && line.title,\n    grade: line && line.grade,\n    color: GemTableChart.LINE_COLORS[index]\n  }));\n\n  node.innerHTML = template({\n    values: preparedValues,\n    isMultiple: values.length > 1\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/gem-table-chart-stats/index.js","import Snap from 'snapsvg-cjs';\nimport rafThrottle from 'raf-throttle';\nimport { memoize } from 'lodash';\nimport vars from '../../../postcss/css-vars';\n\nexport default class GemTableChart {\n  static ID = 0;\n  static LINE_COLORS = ['#d0011b', '#4990e2'];\n  static SEGMENT_COLORS = {\n    a: vars.indicatorRateA,\n    b: vars.indicatorRateB,\n    c: vars.indicatorRateC,\n    d: vars.indicatorRateD,\n    e: vars.indicatorRateE\n  };\n  static VERTICAL_OFFSET = 10;\n  static STYLES = {\n    VLINE: {\n      strokeWidth: 1,\n      stroke: '#000000',\n      opacity: 0.15\n    },\n    HOVER_POINT: {\n      strokeWidth: 1.5,\n      stroke: '#ffffff'\n    },\n    GRAPH_LINE: {\n      DEFAULT: {\n        strokeWidth: 0.5\n      },\n      HOVER: {\n        strokeWidth: 1\n      }\n    }\n  };\n\n  constructor(emitter, { width, height, segmentsCount, data }) {\n    this.emitter = emitter;\n    this.id = ++GemTableChart.ID;\n\n    this.width = width;\n    this.height = height;\n    this.graphsHeight = height - GemTableChart.VERTICAL_OFFSET * 2;\n    this.segmentsCount = segmentsCount;\n    this.stepWidth = Math.floor(width / (segmentsCount + 1));\n    this.data = data;\n    this.isMultiline = this.data.length > 1;\n    this.maxValue = this._calcMaxChartValue();\n    this.paper = Snap(width, height);\n    this.currentIndex = -1;\n    this.chartParts = {};\n    this.mouseIsOut = true;\n\n    this._buildChart();\n  }\n\n  attachTo(node) {\n    node.appendChild(this.paper.node);\n    return this;\n  }\n\n  getValuesAt = memoize((index) => {\n    return this.data.map((chart, dataIndex) => {\n      if (!chart[index]) {\n        return null;\n      }\n\n      return { ...chart[index], color: GemTableChart.LINE_COLORS[dataIndex] };\n    });\n  });\n\n  getTitleAt = (() => {\n    const DATE = new Date();\n    const YEAR = DATE.getFullYear();\n    const MONTH = DATE.getMonth();\n\n    return memoize((index) => {\n      if (index >= this.segmentsCount) {\n        return null;\n      }\n\n      const date = new Date(YEAR, MONTH - ((index + 1) * 3));\n      return 'Q' + Math.ceil((date.getMonth() + 1) / 3) + ', ' + date.getFullYear();\n    });\n  })();\n\n  _calcMaxChartValue() {\n    return this.data.reduce((prevMax, oneLineData) => {\n      const curMax = Math.max.apply(null, oneLineData.map(pointData => pointData.value));\n\n      if (prevMax < curMax) {\n        return curMax;\n      }\n\n      return prevMax;\n    }, 0);\n  }\n\n  _buildChart() {\n    this._buildGraphLines();\n    this._buildVline();\n    this._buildHoverPoints();\n    this._setLineVisibility(false);\n    this._setupInteractions();\n  }\n\n  _buildVline() {\n    this.chartParts.vline = this.paper.path(`M 0 0, L 0 ${this.height}`).attr(GemTableChart.STYLES.VLINE);\n  }\n\n  _buildHoverPoints() {\n    this.chartParts.hoverPoints = this.data.map(() => this.paper\n      .circle(0, 0, 3)\n      .attr(GemTableChart.STYLES.HOVER_POINT)\n    );\n  }\n\n  _buildGraphLines() {\n    this.chartParts.graphLinesGroup = this.paper\n      .group()\n      .attr(GemTableChart.STYLES.GRAPH_LINE.DEFAULT);\n\n    this.chartParts.graphLines = this.data.map((lineData, lineIndex) => {\n      const lineGroup = this.paper.group();\n\n      this.chartParts.graphLinesGroup.add(lineGroup);\n\n      lineData.forEach((pointData, pointIndex) => {\n        const nextPointIndex = pointIndex + 1;\n        const nextPoint = lineData[nextPointIndex];\n\n        if (nextPoint) {\n          const x1 = this.width - (pointIndex * this.stepWidth) - this.stepWidth / 2;\n          const y1 = this._getRelativeHeight(pointData.value);\n          const x2 = this.width - (nextPointIndex * this.stepWidth) - this.stepWidth / 2;\n          const y2 = this._getRelativeHeight(nextPoint.value);\n          const line = this.paper\n            .line(x1, y1, x2, y2)\n            .attr({ stroke: this._getSegmentColor(lineIndex, pointData.grade) });\n\n          lineGroup.add(line);\n        }\n      });\n\n      return lineGroup;\n    });\n  }\n\n  _getSegmentColor(i, grade) {\n    return this.isMultiline ? GemTableChart.LINE_COLORS[i] : GemTableChart.SEGMENT_COLORS[grade];\n  }\n\n  _setupInteractions() {\n    const interactionsOverlay = this.paper\n      .rect(0, 0, this.width, this.height)\n      .attr({ fill: 'transparent', stroke: 'none' });\n\n    this.emitter.on('over', () => (this.mouseIsOut = false));\n    this.emitter.on('show', rafThrottle((graphId, index) => {\n      if (!this.mouseIsOut) {\n        this._moveLineTo(index);\n      }\n    }));\n    this.emitter.on('out', () => {\n      this.mouseIsOut = true;\n      this._setLineVisibility(false);\n    });\n\n    interactionsOverlay\n      .mouseover(() => {\n        this.chartParts.graphLinesGroup.attr(GemTableChart.STYLES.GRAPH_LINE.HOVER);\n        this.emitter.emit('over');\n      })\n      .mousemove(e => {\n        const index = Math.floor((this.width - e.offsetX) / this.stepWidth);\n        this.emitter.emit('show', this.id, index);\n      })\n      .mouseout(() => {\n        this.chartParts.graphLinesGroup.attr(GemTableChart.STYLES.GRAPH_LINE.DEFAULT);\n        this.emitter.emit('out', this.id);\n      });\n  }\n\n  _getRelativeHeight(value) {\n    const offset = this.maxValue <= 0 ? 0 : Math.floor(value / this.maxValue * this.graphsHeight);\n\n    return this.graphsHeight - offset + GemTableChart.VERTICAL_OFFSET;\n  }\n\n  _setLineVisibility(value, values) {\n    this.chartParts.vline.attr({ opacity: value ? GemTableChart.STYLES.VLINE.opacity : 0 });\n    this.chartParts.hoverPoints.forEach((point, index) => {\n      const show = values ? values[index] : value;\n      point.attr({ opacity: show ? 1 : 0 });\n    });\n  }\n\n  _moveLineTo(index) {\n    this.currentIndex = index;\n    const values = this.getValuesAt(index);\n    const noValues = !values.filter(value => value).length;\n\n    this._setLineVisibility(!noValues, values);\n\n    if (noValues && this.currentIndex === index) {\n      return;\n    }\n\n    const xOffset = this.width -\n      (index * this.stepWidth) -\n      (this.stepWidth % 2 ? 0 : GemTableChart.STYLES.VLINE.strokeWidth / 2) -\n      this.stepWidth / 2;\n\n    this.chartParts.vline.transform((new Snap.Matrix()).translate(xOffset, 0));\n    values.forEach((pointData, i) => {\n      if (!pointData) {\n        return;\n      }\n\n      this.chartParts.hoverPoints[i]\n        .attr({ fill: this._getSegmentColor(i, pointData.grade) })\n        .transform((new Snap.Matrix()).translate(xOffset, this._getRelativeHeight(pointData.value)));\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/gem-table-chart/components/gem-table-chart.js","if (!Element.prototype.matches) {\n  Element.prototype.matches =\n    Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function matchesFn(selector) {\n      let matches = (this.document || this.ownerDocument).querySelectorAll(selector);\n      let length = matches.length;\n\n      while (--length >= 0 && matches.item(length) !== this) {} // eslint-disable-line no-empty\n\n      return length > -1;\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/polyfills/matches.js","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<ul class=\\\"gem-table-chart-stats\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"values\",c,p,1),c,p,0,50,380,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"         <li class=\\\"gem-table-chart-stats__item\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"isMultiple\",c,p,1),c,p,0,127,244,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"             <span class=\\\"gem-table-chart-stats__color-dot\\\" style=\\\"background-color: \");t.b(t.v(t.f(\"color\",c,p,0)));t.b(\";\\\"></span>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"           <span class=\\\"gem-table-chart-stats__value mark-text mark-text_\");t.b(t.v(t.f(\"grade\",c,p,0)));t.b(\"\\\">\");t.b(t.v(t.f(\"title\",c,p,0)));t.b(\"</span>\");t.b(\"\\n\" + i);t.b(\"         </li>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"</ul>\");return t.fl(); },partials: {}, subs: {  }}, \"<ul class=\\\"gem-table-chart-stats\\\">\\n    {{#values}}\\n         <li class=\\\"gem-table-chart-stats__item\\\">\\n           {{#isMultiple}}\\n             <span class=\\\"gem-table-chart-stats__color-dot\\\" style=\\\"background-color: {{color}};\\\"></span>\\n           {{/isMultiple}}\\n           <span class=\\\"gem-table-chart-stats__value mark-text mark-text_{{grade}}\\\">{{title}}</span>\\n         </li>\\n    {{/values}}\\n</ul>\", H);return T.render.apply(T, arguments); };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./blocks/gem-table-chart-stats/gem-table-chart-stats.mustache\n// module id = 321\n// module chunks = 0","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"help-tooltip__header-container\\\">\");t.b(\"\\n\" + i);t.b(\"    <h4 class=\\\"help-tooltip__header\\\">\");t.b(t.v(t.d(\"tooltip.title\",c,p,0)));t.b(\"</h4>\");t.b(\"\\n\" + i);t.b(\"    <svg class=\\\"icon help-tooltip__info-icon\\\">\");t.b(\"\\n\" + i);t.b(\"        <use xlink:href=\\\"#icon_type_info\\\"></use>\");t.b(\"\\n\" + i);t.b(\"    </svg>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\" + i);t.b(\"<p class=\\\"help-tooltip__description\\\">\");t.b(t.v(t.d(\"tooltip.description\",c,p,0)));t.b(\"</p>\");t.b(\"\\n\" + i);t.b(\"<table class=\\\"help-tooltip__table\\\">\");t.b(\"\\n\" + i);t.b(\"    <thead>\");t.b(\"\\n\" + i);t.b(\"        <tr>\");t.b(\"\\n\" + i);t.b(\"            <th class=\\\"help-tooltip__table-header-cell\\\">Rank</th>\");t.b(\"\\n\" + i);t.b(\"            <th class=\\\"help-tooltip__table-header-cell help-tooltip__table-header-cell_values-column help-tooltip__table-header-cell_values-column-penultimate\\\">\");t.b(\"\\n\" + i);t.b(\"                \");if(t.s(t.f(\"yearMode\",c,p,1),c,p,0,601,605,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"Year\");});c.pop();}t.b(\"\\n\" + i);t.b(\"                \");if(t.s(t.f(\"quarterMode\",c,p,1),c,p,0,651,658,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"Quarter\");});c.pop();}t.b(\"\\n\" + i);t.b(\"            </th>\");t.b(\"\\n\" + i);t.b(\"            <th class=\\\"help-tooltip__table-header-cell help-tooltip__table-header-cell_values-column\\\">Total</th>\");t.b(\"\\n\" + i);t.b(\"        </tr>\");t.b(\"\\n\" + i);t.b(\"    </thead>\");t.b(\"\\n\" + i);t.b(\"    <tbody>\");t.b(\"\\n\" + i);if(t.s(t.d(\"tooltip.ranks\",c,p,1),c,p,0,867,1592,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"        <tr>\");t.b(\"\\n\" + i);t.b(\"            <td class=\\\"help-tooltip__table-cell\\\">\");t.b(\"\\n\" + i);t.b(\"                <svg class=\\\"icon icon_type_mark-\");t.b(t.v(t.f(\"type\",c,p,0)));t.b(\" help-tooltip__table-mark\\\">\");t.b(\"\\n\" + i);t.b(\"                    <use xlink:href=\\\"#icon_type_mark-\");t.b(t.v(t.f(\"type\",c,p,0)));t.b(\"\\\"></use>\");t.b(\"\\n\" + i);t.b(\"                </svg>\");t.b(\"\\n\" + i);t.b(\"            </td>\");t.b(\"\\n\" + i);t.b(\"            <td class=\\\"help-tooltip__table-cell help-tooltip__table-cell_values-column help-tooltip__table-cell_values-column-penultimate\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"yearMode\",c,p,1),c,p,0,1295,1341,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"                    \");t.b(t.v(t.f(\"year\",c,p,0)));t.b(\"\\n\" + i);});c.pop();}if(t.s(t.f(\"quarterMode\",c,p,1),c,p,0,1387,1436,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"                    \");t.b(t.v(t.f(\"quarter\",c,p,0)));t.b(\"\\n\" + i);});c.pop();}t.b(\"            </td>\");t.b(\"\\n\" + i);t.b(\"            <td class=\\\"help-tooltip__table-cell help-tooltip__table-cell_values-column\\\">\");t.b(t.v(t.f(\"total\",c,p,0)));t.b(\"</td>\");t.b(\"\\n\" + i);t.b(\"        </tr>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"    </tbody>\");t.b(\"\\n\" + i);t.b(\"</table>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"help-tooltip__header-container\\\">\\n    <h4 class=\\\"help-tooltip__header\\\">{{tooltip.title}}</h4>\\n    <svg class=\\\"icon help-tooltip__info-icon\\\">\\n        <use xlink:href=\\\"#icon_type_info\\\"></use>\\n    </svg>\\n</div>\\n<p class=\\\"help-tooltip__description\\\">{{tooltip.description}}</p>\\n<table class=\\\"help-tooltip__table\\\">\\n    <thead>\\n        <tr>\\n            <th class=\\\"help-tooltip__table-header-cell\\\">Rank</th>\\n            <th class=\\\"help-tooltip__table-header-cell help-tooltip__table-header-cell_values-column help-tooltip__table-header-cell_values-column-penultimate\\\">\\n                {{#yearMode}}Year{{/yearMode}}\\n                {{#quarterMode}}Quarter{{/quarterMode}}\\n            </th>\\n            <th class=\\\"help-tooltip__table-header-cell help-tooltip__table-header-cell_values-column\\\">Total</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n    {{#tooltip.ranks}}\\n        <tr>\\n            <td class=\\\"help-tooltip__table-cell\\\">\\n                <svg class=\\\"icon icon_type_mark-{{type}} help-tooltip__table-mark\\\">\\n                    <use xlink:href=\\\"#icon_type_mark-{{type}}\\\"></use>\\n                </svg>\\n            </td>\\n            <td class=\\\"help-tooltip__table-cell help-tooltip__table-cell_values-column help-tooltip__table-cell_values-column-penultimate\\\">\\n                {{#yearMode}}\\n                    {{year}}\\n                {{/yearMode}}\\n                {{#quarterMode}}\\n                    {{quarter}}\\n                {{/quarterMode}}\\n            </td>\\n            <td class=\\\"help-tooltip__table-cell help-tooltip__table-cell_values-column\\\">{{total}}</td>\\n        </tr>\\n    {{/tooltip.ranks}}\\n    </tbody>\\n</table>\\n\", H);return T.render.apply(T, arguments); };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./blocks/help-tooltip/help-tooltip.mustache\n// module id = 322\n// module chunks = 0","import './blocks/polyfills';\n\nimport $ from 'jquery';\nimport rafThrottle from 'raf-throttle';\nimport { onScroll } from './blocks/gem-header';\nimport { init as helpTooltipInit, setMode as setTooltipMode, MODE } from './blocks/help-tooltip';\nimport { draw as drawTableMainChart } from './blocks/gem-stats-chart';\nimport { renderTableCharts } from './blocks/gem-table-chart';\nimport { smoothAnchorScrolling } from './blocks/link';\nimport { isMobileView, DOM } from './blocks/utils';\nimport searchForm from './blocks/search';\nimport { gemDescriptionCollapser } from './blocks/gem';\nimport initToggleable from './blocks/toggleable';\n\nif (__DEVELOPMENT__) {\n  window.$ = $;\n}\n\n$(() => {\n  if ($('#sticky-project-header').length) {\n    $(window).on('scroll', rafThrottle(onScroll));\n    onScroll();\n  }\n\n  smoothAnchorScrolling();\n\n  if (!isMobileView() && $('.help-tooltip').length) {\n    helpTooltipInit();\n  }\n\n  searchForm('.search');\n  gemDescriptionCollapser();\n  $('.gem-stats-chart').each(function onEachChart() {\n    drawTableMainChart(this, $(this).data('chart'));\n  });\n\n  initToggleable((toggleable) => {\n    const stickyHeaderTitle = document.querySelector('#sticky-header-title');\n    const table = toggleable.querySelector('.js-gems-stats-table');\n    const tablePeriodTitle = table.querySelector('.js-gems-stats-table__period-title');\n    const tableStatsType = DOM.closest(table, '.gem-stats');\n\n    renderTableCharts({\n      chartsNodes: table.querySelectorAll('.js-gems-stats-table__row-chart'),\n      statsCellNodes: table.querySelectorAll('.js-gems-stats-table__cell-stats'),\n      maxQuarters: JSON.parse(table.dataset.maxQuarters),\n      onShow: value => (value ? setQuarterMode(value) : setYearMode()),\n      onOut: setYearMode\n    });\n\n    function setQuarterMode(value) {\n      setTooltipMode(MODE.QUARTER);\n      stickyHeaderTitle.textContent = `${tableStatsType.dataset.title}${value ? ` - ${value}` : ''}`;\n      tablePeriodTitle.textContent = value;\n    }\n\n    function setYearMode() {\n      setTooltipMode(MODE.YEAR);\n      stickyHeaderTitle.textContent = '';\n      tablePeriodTitle.textContent = 'This year';\n    }\n  });\n});\n\n\n\n// WEBPACK FOOTER //\n// ./main.js","import cssVars from '../../postcss/css-vars';\n\nconst MOBILE_LAYOUT_WIDTH = (cssVars.layoutGridColumn + cssVars.layoutGridGutter) * 9; // 6 + 3\n\nexport function isMobileView() {\n  return window.innerWidth < MOBILE_LAYOUT_WIDTH;\n}\n\nexport function arrayFromNodes(nodes) {\n  return Array.prototype.slice.call(nodes);\n}\n\nexport const DOM = {\n  closest: (elem, selector) => {\n    while (elem) {\n      if (elem.matches(selector)) {\n        return elem;\n      }\n\n      elem = elem.parentElement;\n    }\n\n    return null;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/utils/index.js","import $ from 'jquery';\nconst $header = $('#sticky-project-header');\nconst $fixed = $header.find('.gem-header__fixed');\n\nconst $document = $(document);\n\nexport function onScroll() {\n  $fixed.toggleClass('gem-header__fixed_hidden', !isWillBeVisible($document.scrollTop() - $header.height() - 15));\n}\n\nexport function getHeight() {\n  return $fixed.height();\n}\n\nexport function isWillBeVisible(targetOffset) {\n  return getHeaderOffsetTop() < targetOffset;\n}\n\nfunction getHeaderOffsetTop() {\n  return $header.offset().top;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/gem-header/index.js","import GemTableChart from './components/gem-table-chart';\nimport NanoEvents from 'nanoevents';\nimport { renderGemTableChartStats } from '../gem-table-chart-stats';\nimport { arrayFromNodes } from '../utils';\n\nexport default GemTableChart;\n\nexport function renderTableCharts({ chartsNodes, statsCellNodes, maxQuarters, onShow, onOut }) {\n  chartsNodes = arrayFromNodes(chartsNodes);\n  statsCellNodes = arrayFromNodes(statsCellNodes);\n\n  const emitter = new NanoEvents();\n  const tableCharts = [];\n  const parsedYearValues = chartsNodes.map(chart => JSON.parse(chart.dataset.yearValues));\n\n  chartsNodes.forEach(chartNode => {\n    const chart = new GemTableChart(emitter, {\n      width: chartNode.clientWidth,\n      height: chartNode.clientHeight,\n      data: JSON.parse(chartNode.dataset.chart),\n      segmentsCount: maxQuarters\n    });\n    tableCharts.push(chart.attachTo(chartNode));\n  });\n\n  setYearValues();\n\n  emitter.on('show', (graphId, index) => {\n    onShow(tableCharts[0].getTitleAt(index));\n    tableCharts.forEach((chart, i) => renderGemTableChartStats(\n      statsCellNodes[i],\n      parsedYearValues[i],\n      chart.getValuesAt(index)\n    ));\n  });\n  emitter.on('out', () => {\n    setYearValues();\n    onOut();\n  });\n\n  function setYearValues() {\n    statsCellNodes.forEach((statsCell, i) => renderGemTableChartStats(statsCell, parsedYearValues[i]));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./blocks/gem-table-chart/index.js","module.exports = {\n  layoutGridColumn: 88,\n  layoutGridGutter: 12,\n  layoutFactor: 12,\n\n  // TEXT\n  fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, ' +\n    '\"Helvetica Neue\", sans-serif',\n\n  textColorPrimary: '#333',\n  textColorMuted: '#7b858e',\n  textLinkColor: '#4a90e2',\n\n  // COLORS\n  layoutPrimaryBg: '#fff',\n  layoutSecondaryBg: '#efefef',\n\n  layoutBorderColor: '#d1d1d1',\n  layoutSecondaryBorderColor: '#efefef',\n\n  themePrimary: '#2c3e50',\n\n  indicatorCircleSize: '36px',\n  indicatorRateA: '#0ac53d',\n  indicatorRateB: '#a9bf38',\n  indicatorRateC: '#ecc217',\n  indicatorRateD: '#e09432',\n  indicatorRateE: '#de2020'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./postcss/css-vars.js"],"sourceRoot":""}